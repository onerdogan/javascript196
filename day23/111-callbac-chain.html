<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>callback chain</title>
</head>
<body>
<script>
    const siparisVer = (talep,cb) => {
        console.log(`${talep} siparişi verildi`)
        setTimeout(()=>{
            const siparis=talep;
            console.log(`${siparis} hazır`)
            cb(siparis)
        },3000);      
    };
    const yemekYe = (siparis,cb) => {
        console.log(`${siparis} yemeğe başladık`)
        setTimeout(()=>{
            console.log(`${siparis}yi bitirdik`)
            cb();
        },1500);
      
    };
    const filmİzle = () => {
        console.log("film başladı")
        setTimeout(()=>{
            console.log("film bitti")
        },4000);
      
    };
    const patlakMısırYe = () => {
        console.log("paklak mısır yemeye başladık")
        setTimeout(()=>{
            console.log("patlak mısır bitti")
        },2500);
     };
   // Bu şekilde çağrıldığında her bir async fonksiyon bağımsız bir thread üzerinde çalıştığından kodlar istenilen sırada öalışamayacaktır. BElli bir sıraya göre çalışmayın zorlamak için callback chain yapısı kullnaılır.
    // siparisVer()
    // yemekYe()
    // filmİzle()
    // patlakMısırYe()
    
//CALLBACK CHAİN

siparisVer("pide",(siparis)=>{
yemekYe(siparis,()=>{
filmİzle()
patlakMısırYe()
});

});



</script>

    
</body>
</html>